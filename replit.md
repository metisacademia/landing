# Métis - Academia da Mente

## Overview

Métis is a premium cognitive stimulation center website that provides brain training services through structured weekly circuits. The application is a full-stack web platform combining a React frontend with an Express.js backend, designed to facilitate user pre-registrations and process payments through the Asaas payment gateway. The platform offers cognitive training programs in four specialized rooms: Language, Memory, Executive Functions, and Contemplation, targeting individuals seeking cognitive wellness and memory enhancement.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: React with TypeScript using Vite as the build tool
- **UI Library**: Shadcn/ui components built on top of Radix UI primitives
- **Styling**: Tailwind CSS with custom design system variables
- **Routing**: Wouter for client-side routing
- **State Management**: TanStack Query for server state management
- **Form Handling**: React Hook Form with Zod validation

### Backend Architecture
- **Runtime**: Node.js with Express.js framework
- **Language**: TypeScript with ES modules
- **Database**: PostgreSQL with Drizzle ORM for type-safe database operations
- **Session Management**: Express sessions with PostgreSQL store
- **API Design**: RESTful endpoints with JSON responses
- **Development Server**: Vite integration for hot module replacement

### Database Design
- **ORM**: Drizzle with schema definitions in TypeScript
- **Tables**: 
  - `users` - Basic user authentication system
  - `pre_registrations` - Customer pre-registration data with payment tracking
- **Schema Location**: Shared schema definitions in `/shared/schema.ts`
- **Migrations**: Managed through Drizzle Kit with PostgreSQL dialect

### Authentication & Authorization
- **Strategy**: Session-based authentication using Express sessions
- **Storage**: PostgreSQL session store via connect-pg-simple
- **Security**: CSRF protection and secure session configuration

### Payment Integration
- **Provider**: Asaas payment gateway (Brazilian payment processor)
- **Methods**: PIX and BOLETO payment options
- **Environment**: Sandbox and production API support
- **Flow**: Customer creation → Payment generation → Status tracking

### Project Structure
- `/client` - React frontend application with components, pages, and hooks
- `/server` - Express.js backend with routes, storage layer, and business logic
- `/shared` - Common TypeScript definitions and database schema
- `/migrations` - Database migration files generated by Drizzle

### Development Workflow
- **Build System**: Vite for frontend, ESBuild for backend production builds
- **Type Safety**: Full TypeScript coverage across frontend, backend, and shared code
- **Hot Reload**: Development server with automatic reload for both frontend and backend changes

## External Dependencies

### Payment Services
- **Asaas API**: Brazilian payment processor for PIX and BOLETO transactions
- **Environment Variables**: `ASAAS_API_KEY`, `ASAAS_SANDBOX_API_KEY` for authentication
- **Endpoints**: Customer creation, payment processing, and status webhooks

### Database Services
- **PostgreSQL**: Primary database using Neon serverless PostgreSQL
- **Connection**: Via `DATABASE_URL` environment variable
- **Driver**: @neondatabase/serverless for serverless compatibility

### Development Tools
- **Replit Integration**: Custom Vite plugins for Replit development environment
- **Error Overlay**: Runtime error modal for development debugging
- **Dev Banner**: Development environment indicators

### UI & Design System
- **Radix UI**: Headless component primitives for accessibility
- **Tailwind CSS**: Utility-first CSS framework with custom design tokens
- **Lucide React**: Icon library for consistent iconography
- **Custom Fonts**: Inter font family via Google Fonts

### Form & Validation
- **Zod**: Runtime schema validation for form data and API payloads
- **React Hook Form**: Performant form handling with validation integration
- **Drizzle Zod**: Automatic schema generation from database definitions